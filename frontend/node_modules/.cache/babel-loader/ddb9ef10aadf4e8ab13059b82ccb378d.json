{"ast":null,"code":"import axios from 'axios';\nimport { logIn, logOut, loggedIn } from '../urls/index'; // ログインするためのapi\n\nexport const postLogIn = params => {\n  return axios.post(logIn, {\n    session: {\n      email: params.email,\n      password: params.password,\n      remember_me: params.remember_me\n    }\n  }, {\n    withCredentials: true\n  }).then(res => {\n    if (res.data.logged_in) {\n      console.log('login', res);\n      return res.data;\n    }\n  }).catch(e => {\n    console.error(e);\n    return 'nil';\n  });\n}; // ログアウトするapi\n\nexport const deleteLogout = () => {\n  return axios.delete(logOut, {\n    withCredentials: true\n  }).then(res => {\n    console.log('logout', res.status);\n  }).catch(e => {\n    console.error(e);\n  });\n}; // ログイン状態を追跡するapi\n\nexport const fetchLoggedIn = () => {\n  return axios.get(loggedIn, {\n    withCredentials: true\n  }).then(res => {\n    console.log('loggedIn', res);\n    return res.data;\n  }).catch(error => {\n    console.log('loggedIn', error);\n  });\n};","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/apis/sessions.js"],"names":["axios","logIn","logOut","loggedIn","postLogIn","params","post","session","email","password","remember_me","withCredentials","then","res","data","logged_in","console","log","catch","e","error","deleteLogout","delete","status","fetchLoggedIn","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,eAAxC,C,CAEA;;AACA,OAAO,MAAMC,SAAS,GAAIC,MAAD,IAAY;AACnC,SAAOL,KAAK,CAACM,IAAN,CAAWL,KAAX,EAAkB;AACvBM,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAEH,MAAM,CAACG,KADP;AAEPC,MAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAFV;AAGPC,MAAAA,WAAW,EAAEL,MAAM,CAACK;AAHb;AADc,GAAlB,EAOL;AAAEC,IAAAA,eAAe,EAAE;AAAnB,GAPK,EASJC,IATI,CASCC,GAAG,IAAI;AACX,QAAIA,GAAG,CAACC,IAAJ,CAASC,SAAb,EAAwB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,GAArB;AACA,aAAOA,GAAG,CAACC,IAAX;AACD;AACF,GAdI,EAeJI,KAfI,CAeEC,CAAC,IAAI;AACVH,IAAAA,OAAO,CAACI,KAAR,CAAcD,CAAd;AACA,WAAO,KAAP;AACD,GAlBI,CAAP;AAmBD,CApBM,C,CAsBP;;AACA,OAAO,MAAME,YAAY,GAAG,MAAM;AAChC,SAAOrB,KAAK,CAACsB,MAAN,CAAapB,MAAb,EAAqB;AAAES,IAAAA,eAAe,EAAE;AAAnB,GAArB,EACJC,IADI,CACCC,GAAG,IAAI;AACXG,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,GAAG,CAACU,MAA1B;AACD,GAHI,EAIJL,KAJI,CAIEC,CAAC,IAAI;AACVH,IAAAA,OAAO,CAACI,KAAR,CAAcD,CAAd;AACD,GANI,CAAP;AAOD,CARM,C,CAUP;;AACA,OAAO,MAAMK,aAAa,GAAG,MAAM;AACjC,SAAOxB,KAAK,CAACyB,GAAN,CAAUtB,QAAV,EAAoB;AAAEQ,IAAAA,eAAe,EAAE;AAAnB,GAApB,EACJC,IADI,CACCC,GAAG,IAAI;AACXG,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,GAAxB;AACA,WAAOA,GAAG,CAACC,IAAX;AACD,GAJI,EAIFI,KAJE,CAIIE,KAAK,IAAI;AAChBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBG,KAAxB;AACD,GANI,CAAP;AAOD,CARM","sourcesContent":["import axios from 'axios'\nimport { logIn, logOut, loggedIn } from '../urls/index'\n\n// ログインするためのapi\nexport const postLogIn = (params) => {\n  return axios.post(logIn, {\n    session: {\n      email: params.email,\n      password: params.password,\n      remember_me: params.remember_me\n    }\n  },\n    { withCredentials: true }\n  )\n    .then(res => {\n      if (res.data.logged_in) {\n        console.log('login', res)\n        return res.data\n      }\n    })\n    .catch(e => {\n      console.error(e);\n      return 'nil'\n    })\n}\n\n// ログアウトするapi\nexport const deleteLogout = () => {\n  return axios.delete(logOut, { withCredentials: true })\n    .then(res => {\n      console.log('logout', res.status)\n    })\n    .catch(e => {\n      console.error(e)\n    })\n}\n\n// ログイン状態を追跡するapi\nexport const fetchLoggedIn = () => {\n  return axios.get(loggedIn, { withCredentials: true })\n    .then(res => {\n      console.log('loggedIn', res)\n      return res.data\n    }).catch(error => {\n      console.log('loggedIn', error)\n    })\n}\n"]},"metadata":{},"sourceType":"module"}