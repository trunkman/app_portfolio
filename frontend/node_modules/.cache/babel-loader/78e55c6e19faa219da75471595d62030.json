{"ast":null,"code":"import axios from 'axios';\nimport { signUp, userPath, users, userMicroposts, following, followers, userRooms, userBooks, userDiaries } from '../urls/index'; // ユーザーページを表示するapi\n\nexport const fetchUser = params => {\n  return axios.get(userPath(params.userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#show', res);\n    return res.data;\n  }).catch(e => console.error(e));\n}; // 新規登録するためのapi\n\nexport const postSignUp = params => {\n  return axios.post(signUp, {\n    user: {\n      name: params.name,\n      email: params.email,\n      password: params.password,\n      password_confirmation: params.password_confirmation\n    }\n  }, {\n    withCredentials: true\n  }).then(res => {\n    if (res.data.logged_in) {\n      console.log('signup/user#create', res);\n      return res.data;\n    }\n  }).catch(e => {\n    console.error(e);\n    return 'nil';\n  });\n}; // ユーザー情報更新のapi\n\nexport const patchUpdate = params => {\n  return axios.patch(userPath(params.user_id), {\n    user: {\n      name: params.name,\n      email: params.email,\n      password: params.password,\n      password_confirmation: params.password_confirmation\n    }\n  }, {\n    withCredentials: true\n  }).then(res => {\n    if (res.data) {\n      console.log('user#update', res);\n      return res.data;\n    }\n  }).catch(e => {\n    console.error(e);\n    return 'nil';\n  });\n}; // ユーザー一覧を表示するapi\n\nexport const fetchUsers = () => {\n  return axios.get(users, {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#index', res);\n    return res.data;\n  }).catch(e => {\n    console.error(e);\n  });\n}; // ユーザーを削除する\n\nexport const deleteUser = userId => {\n  return axios.delete(userPath(userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#destroy', res);\n    return res.data;\n  }).catch(e => {\n    console.error(e);\n  });\n}; // フォロー中のユーザーを取得する\n\nexport const fetchFollowing = params => {\n  return axios({\n    method: 'get',\n    baseURL: following(params.userId),\n    data: {\n      user: {\n        id: params.userId\n      }\n    },\n    withCredentials: true\n  }).then(res => {\n    console.log('user#following', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#following', error);\n  });\n}; // フォロワーを取得する\n\nexport const fetchFollowers = params => {\n  return axios.get(followers(params.userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#followers', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#following', error);\n  });\n}; // 投稿一覧を取得するapi\n\nexport const fetchMicroposts = params => {\n  return axios.get(userMicroposts(1), {\n    user: {\n      id: params.userId\n    }\n  }, {\n    withCredentials: true\n  }).then(res => {\n    console.log('users#microposts', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#microposts', error);\n  });\n}; // トークルームの一覧を取得するapi\n\nexport const fetchRooms = params => {\n  return axios({\n    method: 'get',\n    baseURL: userRooms(params.userId),\n    data: {\n      user: {\n        id: params.userId\n      }\n    },\n    withCredentials: true\n  }).then(res => {\n    console.log('users#rooms', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#rooms', error);\n  });\n}; // 本の一覧を取得するapi\n\nexport const fetchUserBooks = userId => {\n  return axios.get(userBooks(userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('users#books', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#books', error);\n  });\n}; // 日記の一覧を取得するapi\n\nexport const fetchUserDiaries = userId => {\n  return axios.get(userDiaries(userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('users#diaries', res);\n    return res.data;\n  }).catch(error => {\n    console.log('users#diaries', error);\n  });\n};","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/apis/users.js"],"names":["axios","signUp","userPath","users","userMicroposts","following","followers","userRooms","userBooks","userDiaries","fetchUser","params","get","userId","withCredentials","then","res","console","log","data","catch","e","error","postSignUp","post","user","name","email","password","password_confirmation","logged_in","patchUpdate","patch","user_id","fetchUsers","deleteUser","delete","fetchFollowing","method","baseURL","id","fetchFollowers","fetchMicroposts","fetchRooms","fetchUserBooks","fetchUserDiaries"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n  signUp, userPath, users,\n  userMicroposts, following, followers,\n  userRooms, userBooks, userDiaries,\n} from '../urls/index'\n\n// ユーザーページを表示するapi\nexport const fetchUser = (params) => {\n  return axios.get(userPath(params.userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#show', res)\n    return res.data\n  }).catch((e) => console.error(e))\n}\n\n// 新規登録するためのapi\nexport const postSignUp = (params) => {\n  return axios.post(signUp, {\n    user: {\n      name: params.name,\n      email: params.email,\n      password: params.password,\n      password_confirmation: params.password_confirmation,\n    }\n  },\n    { withCredentials: true }\n  )\n    .then(res => {\n      if (res.data.logged_in) {\n        console.log('signup/user#create', res);\n        return res.data;\n      }\n    })\n    .catch(e => {\n      console.error(e);\n      return 'nil'\n    })\n}\n\n// ユーザー情報更新のapi\nexport const patchUpdate = (params) => {\n  return axios.patch(userPath(params.user_id), {\n    user: {\n      name: params.name,\n      email: params.email,\n      password: params.password,\n      password_confirmation: params.password_confirmation,\n    }\n  },\n    { withCredentials: true }\n  )\n    .then(res => {\n      if (res.data) {\n        console.log('user#update', res);\n        return res.data;\n      }\n    })\n    .catch(e => {\n      console.error(e);\n      return 'nil'\n    })\n}\n\n// ユーザー一覧を表示するapi\nexport const fetchUsers = () => {\n  return axios.get(users, { withCredentials: true })\n    .then(res => {\n      console.log('user#index', res)\n      return res.data\n    })\n    .catch(e => { console.error(e) })\n}\n\n// ユーザーを削除する\nexport const deleteUser = (userId) => {\n  return axios.delete(userPath(userId), { withCredentials: true })\n    .then(res => {\n      console.log('user#destroy', res)\n      return res.data\n    })\n    .catch(e => { console.error(e) })\n}\n\n// フォロー中のユーザーを取得する\nexport const fetchFollowing = (params) => {\n  return axios({\n    method: 'get',\n    baseURL: following(params.userId),\n    data: { user: { id: params.userId } },\n    withCredentials: true,\n  }).then(res => {\n    console.log('user#following', res)\n    return res.data\n  }).catch(error => {\n    console.log('users#following', error)\n  })\n}\n\n// フォロワーを取得する\nexport const fetchFollowers = (params) => {\n  return axios.get(followers(params.userId), {\n    withCredentials: true\n  }).then(res => {\n    console.log('user#followers', res)\n    return res.data\n  }).catch(error => {\n    console.log('users#following', error)\n  })\n}\n\n// 投稿一覧を取得するapi\nexport const fetchMicroposts = (params) => {\n  return axios.get(userMicroposts(1), {\n    user: { id: params.userId }\n  }, { withCredentials: true })\n    .then(res => {\n      console.log('users#microposts', res)\n      return res.data\n    })\n    .catch(error => {\n      console.log('users#microposts', error)\n    })\n}\n\n// トークルームの一覧を取得するapi\nexport const fetchRooms = (params) => {\n  return axios({\n    method: 'get',\n    baseURL: userRooms(params.userId),\n    data: { user: { id: params.userId } },\n    withCredentials: true,\n  }).then(res => {\n    console.log('users#rooms', res)\n    return res.data\n  }).catch(error => {\n    console.log('users#rooms', error)\n  })\n}\n\n// 本の一覧を取得するapi\nexport const fetchUserBooks = (userId) => {\n  return axios.get(userBooks(userId), {\n    withCredentials: true,\n  }).then(res => {\n    console.log('users#books', res)\n    return res.data\n  }).catch(error => {\n    console.log('users#books', error)\n  })\n}\n\n// 日記の一覧を取得するapi\nexport const fetchUserDiaries = (userId) => {\n  return axios.get(userDiaries(userId), {\n    withCredentials: true,\n  }).then(res => {\n    console.log('users#diaries', res)\n    return res.data\n  }).catch(error => {\n    console.log('users#diaries', error)\n  })\n}\n"]},"metadata":{},"sourceType":"module"}