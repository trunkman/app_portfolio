{"ast":null,"code":"import axios from \"axios\";\nimport { presignedObject, avatar, micropost } from \"../urls\"; // 署名URLを取得するするapi\n\nexport const fetchPresigned = fileName => {\n  return axios.get(presignedObject(fileName), {\n    withCredentials: true\n  }).then(res => {\n    console.log('images#presigned_object', res);\n    return res.data;\n  }).catch(error => {\n    console.log('images#presigned_object', error);\n  });\n}; // S3にアップロードするapi\n\nexport const postS3 = params => {\n  console.log(params);\n  return axios.fetch(params.presignedObjectUrl, {\n    method: 'POST',\n    headers: {\n      Accept: 'multipart/form-data'\n    },\n    body: params.formData\n  }).then(res => {\n    console.log('S3', res);\n    return res.data;\n  }).catch(error => {\n    console.log('S3', error);\n  });\n}; // // S3にアップロードするapi\n// export const postS3 = (params) => {\n//   console.log(params)\n//   return axios.post(params.presignedObjectUrl,\n//     params.formData,\n//     { headers: { 'accept': 'multipart/form-data' } },\n//   )\n//     .then(res => {\n//       console.log('S3', res);\n//       return res.data;\n//     })\n//     .catch(error => {\n//       console.log('S3', error);\n//     })\n// }\n// Avata画像を登録するapi\n\nexport const postAvatarImage = params => {\n  return axios.post(avatar, {\n    avatarUrl: params.avatarUrl\n  }, {\n    withCredentials: true\n  }).then(res => {\n    console.log('images#avatar', res);\n    return res.data;\n  }).catch(error => {\n    console.log('images#avatar', error);\n  });\n}; // 投稿画像を登録するapi\n\nexport const postMicropostImage = params => {\n  return axios.post(micropost, {\n    micropostUrl: params.micropostUrl\n  }, {\n    withCredentials: true\n  }).then(res => {\n    console.log('images#micropost', res);\n    return res.data;\n  }).catch(error => {\n    console.log('images#micropost', error);\n  });\n};","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/apis/image.js"],"names":["axios","presignedObject","avatar","micropost","fetchPresigned","fileName","get","withCredentials","then","res","console","log","data","catch","error","postS3","params","fetch","presignedObjectUrl","method","headers","Accept","body","formData","postAvatarImage","post","avatarUrl","postMicropostImage","micropostUrl"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,SAAnD,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAIC,QAAD,IAAc;AAC1C,SAAOL,KAAK,CAACM,GAAN,CAAUL,eAAe,CAACI,QAAD,CAAzB,EAAqC;AAAEE,IAAAA,eAAe,EAAE;AAAnB,GAArC,EACJC,IADI,CACCC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,GAAvC;AACA,WAAOA,GAAG,CAACG,IAAX;AACD,GAJI,EAKJC,KALI,CAKEC,KAAK,IAAI;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCG,KAAvC;AACD,GAPI,CAAP;AAQD,CATM,C,CAWP;;AACA,OAAO,MAAMC,MAAM,GAAIC,MAAD,IAAY;AAChCN,EAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AACA,SAAOhB,KAAK,CAACiB,KAAN,CAAYD,MAAM,CAACE,kBAAnB,EAAuC;AAC5CC,IAAAA,MAAM,EAAE,MADoC;AAE5CC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAFmC;AAG5CC,IAAAA,IAAI,EAAEN,MAAM,CAACO;AAH+B,GAAvC,EAKJf,IALI,CAKCC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBF,GAAlB;AACA,WAAOA,GAAG,CAACG,IAAX;AACD,GARI,EASJC,KATI,CASEC,KAAK,IAAI;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBG,KAAlB;AACD,GAXI,CAAP;AAYD,CAdM,C,CAeP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,OAAO,MAAMU,eAAe,GAAIR,MAAD,IAAY;AACzC,SAAOhB,KAAK,CAACyB,IAAN,CAAWvB,MAAX,EAAmB;AACxBwB,IAAAA,SAAS,EAAEV,MAAM,CAACU;AADM,GAAnB,EAEJ;AACDnB,IAAAA,eAAe,EAAE;AADhB,GAFI,EAKJC,IALI,CAKCC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,GAA7B;AACA,WAAOA,GAAG,CAACG,IAAX;AACD,GARI,EASJC,KATI,CASEC,KAAK,IAAI;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BG,KAA7B;AACD,GAXI,CAAP;AAYD,CAbM,C,CAeP;;AACA,OAAO,MAAMa,kBAAkB,GAAIX,MAAD,IAAY;AAC5C,SAAOhB,KAAK,CAACyB,IAAN,CAAWtB,SAAX,EAAsB;AAC3ByB,IAAAA,YAAY,EAAEZ,MAAM,CAACY;AADM,GAAtB,EAEJ;AACDrB,IAAAA,eAAe,EAAE;AADhB,GAFI,EAKJC,IALI,CAKCC,GAAG,IAAI;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,GAAhC;AACA,WAAOA,GAAG,CAACG,IAAX;AACD,GARI,EASJC,KATI,CASEC,KAAK,IAAI;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCG,KAAhC;AACD,GAXI,CAAP;AAYD,CAbM","sourcesContent":["import axios from \"axios\";\nimport { presignedObject, avatar, micropost } from \"../urls\";\n\n// 署名URLを取得するするapi\nexport const fetchPresigned = (fileName) => {\n  return axios.get(presignedObject(fileName), { withCredentials: true })\n    .then(res => {\n      console.log('images#presigned_object', res);\n      return res.data;\n    })\n    .catch(error => {\n      console.log('images#presigned_object', error);\n    });\n}\n\n// S3にアップロードするapi\nexport const postS3 = (params) => {\n  console.log(params)\n  return axios.fetch(params.presignedObjectUrl, {\n    method: 'POST',\n    headers: { Accept: 'multipart/form-data' },\n    body: params.formData,\n  })\n    .then(res => {\n      console.log('S3', res);\n      return res.data;\n    })\n    .catch(error => {\n      console.log('S3', error);\n    })\n}\n// // S3にアップロードするapi\n// export const postS3 = (params) => {\n//   console.log(params)\n//   return axios.post(params.presignedObjectUrl,\n//     params.formData,\n//     { headers: { 'accept': 'multipart/form-data' } },\n//   )\n//     .then(res => {\n//       console.log('S3', res);\n//       return res.data;\n//     })\n//     .catch(error => {\n//       console.log('S3', error);\n//     })\n// }\n\n// Avata画像を登録するapi\nexport const postAvatarImage = (params) => {\n  return axios.post(avatar, {\n    avatarUrl: params.avatarUrl\n  }, {\n    withCredentials: true\n  })\n    .then(res => {\n      console.log('images#avatar', res);\n      return res.data;\n    })\n    .catch(error => {\n      console.log('images#avatar', error);\n    })\n}\n\n// 投稿画像を登録するapi\nexport const postMicropostImage = (params) => {\n  return axios.post(micropost, {\n    micropostUrl: params.micropostUrl\n  }, {\n    withCredentials: true\n  })\n    .then(res => {\n      console.log('images#micropost', res);\n      return res.data;\n    })\n    .catch(error => {\n      console.log('images#micropost', error);\n    })\n}\n\n"]},"metadata":{},"sourceType":"module"}