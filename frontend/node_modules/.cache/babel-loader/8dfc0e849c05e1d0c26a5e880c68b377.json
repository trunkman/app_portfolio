{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/app/frontend/src/components/Buttons/LikeButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // styles\n\nimport { IconButton } from \"@mui/material\"; // アイコン\n\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport { red } from \"@mui/material/colors\"; // api\n\nimport { postLike, postUnlike } from \"../../apis/likes\"; // import { fetchLikedMicropost } from \"../../apis/microposts\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const LikeButton = props => {\n  _s();\n\n  const likedStatus = props.likedMicropostIds.includes(props.micropostId);\n  const [like, setLike] = useState(likedStatus);\n\n  const handleLike = () => {\n    postLike({\n      userId: props.loginUserId,\n      micropostId: props.micropostId\n    }).then(setLike(true));\n  };\n\n  const handleUnlike = () => {\n    postUnlike({\n      userId: props.loginUserId,\n      micropostId: props.micropostId\n    }).then(setLike(false));\n  }; // useEffect(() => {\n  //   fetchLikedMicropost(props.micropostId)\n  //     .then(data => {\n  //       setLike(data.liked_micropost)\n  //     })\n  // })\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: like === true ? /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleUnlike,\n      children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n        sx: {\n          color: red[500]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleLike,\n      children: /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(LikeButton, \"cuh9vbQwEPFy3+tHXRrttYpzRMg=\");\n\n_c = LikeButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"LikeButton\");","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/components/Buttons/LikeButton.jsx"],"names":["React","useEffect","useState","IconButton","FavoriteBorderIcon","FavoriteIcon","red","postLike","postUnlike","LikeButton","props","likedStatus","likedMicropostIds","includes","micropostId","like","setLike","handleLike","userId","loginUserId","then","handleUnlike","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,SAASC,UAAT,QAA2B,eAA3B,C,CACA;;AACA,OAAOC,kBAAP,MAA+B,oCAA/B;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,GAAT,QAAoB,sBAApB,C,CACA;;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC,C,CACA;;;;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AACnC,QAAMC,WAAW,GAAGD,KAAK,CAACE,iBAAN,CAAwBC,QAAxB,CAAiCH,KAAK,CAACI,WAAvC,CAApB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAACS,WAAD,CAAhC;;AAEA,QAAMM,UAAU,GAAG,MAAM;AACvBV,IAAAA,QAAQ,CAAC;AACPW,MAAAA,MAAM,EAAER,KAAK,CAACS,WADP;AAEPL,MAAAA,WAAW,EAAEJ,KAAK,CAACI;AAFZ,KAAD,CAAR,CAIGM,IAJH,CAIQJ,OAAO,CAAC,IAAD,CAJf;AAMD,GAPD;;AASA,QAAMK,YAAY,GAAG,MAAM;AACzBb,IAAAA,UAAU,CAAC;AACTU,MAAAA,MAAM,EAAER,KAAK,CAACS,WADL;AAETL,MAAAA,WAAW,EAAEJ,KAAK,CAACI;AAFV,KAAD,CAAV,CAIGM,IAJH,CAIQJ,OAAO,CAAC,KAAD,CAJf;AAMD,GAPD,CAbmC,CAsBnC;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACE;AAAA,cACGD,IAAI,KAAK,IAAT,gBAEC,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEM,YAArB;AAAA,6BACE,QAAC,YAAD;AAAc,QAAA,EAAE,EAAE;AAAEC,UAAAA,KAAK,EAAEhB,GAAG,CAAC,GAAD;AAAZ;AAAlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFD,gBAMC,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEW,UAArB;AAAA,6BACE,QAAC,kBAAD;AAAoB,QAAA,KAAK,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAPJ,mBADF;AAcD,CA3CM;;GAAMR,U;;KAAAA,U","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// styles\nimport { IconButton } from \"@mui/material\";\n// アイコン\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport { red } from \"@mui/material/colors\";\n// api\nimport { postLike, postUnlike } from \"../../apis/likes\";\n// import { fetchLikedMicropost } from \"../../apis/microposts\";\n\nexport const LikeButton = (props) => {\n  const likedStatus = props.likedMicropostIds.includes(props.micropostId)\n  const [like, setLike] = useState(likedStatus)\n\n  const handleLike = () => {\n    postLike({\n      userId: props.loginUserId,\n      micropostId: props.micropostId,\n    })\n      .then(setLike(true)\n      )\n  }\n\n  const handleUnlike = () => {\n    postUnlike({\n      userId: props.loginUserId,\n      micropostId: props.micropostId,\n    })\n      .then(setLike(false)\n      )\n  }\n\n  // useEffect(() => {\n  //   fetchLikedMicropost(props.micropostId)\n  //     .then(data => {\n  //       setLike(data.liked_micropost)\n  //     })\n  // })\n\n  return (\n    <>\n      {like === true\n        ?\n        <IconButton onClick={handleUnlike} >\n          <FavoriteIcon sx={{ color: red[500] }} />\n        </IconButton>\n        :\n        <IconButton onClick={handleLike} >\n          <FavoriteBorderIcon color=\"primary\" />\n        </IconButton>\n      }\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}