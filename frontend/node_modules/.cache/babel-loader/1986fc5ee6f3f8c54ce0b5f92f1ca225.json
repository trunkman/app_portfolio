{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/app/frontend/src/containers/Pages/Diaries.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useReducer } from \"react\";\nimport { AuthContext } from '../../App'; // Style\n\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport Grid from '@mui/material/Grid';\nimport Typography from \"@mui/material/Typography\"; // Api\n\nimport { fetchUserDiaries } from \"../../apis/users\";\nimport { fetchSleepDebt } from \"../../apis/diaries\"; // Reducer\n\nimport { dialogReducer, dialogInitialState } from '../../reducer/DialogReducer';\nimport { recordReducer, recordInitialState } from '../../reducer/RecordReducer';\nimport { sleepDebtReducer, sleepDebtInitialState } from \"../../reducer/SleepDebtReducer\"; // Component\n\nimport { Calendar } from \"../../components/UserInfomation/Calendar\";\nimport { SleepInfo } from \"../../components/UserInfomation/SleepInfo\"; // Dialog\n\nimport { RecordDialog } from \"../../components/Dialogs/RecordDialog\";\nimport { SleepData } from \"../../components/UserInfomation/SleepData\";\nimport { Loading } from '../../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => createStyles({\n  'root': {\n    alignItems: 'center',\n    flexDirection: 'end',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    maxWidth: 1000,\n    mx: 'auto',\n    textAlign: 'center',\n    width: '100%'\n  },\n  'button': {\n    backgroundColor: '#42a5f5',\n    border: 0,\n    borderRadius: 3,\n    color: 'white',\n    height: 30,\n    padding: '20px 30px'\n  }\n}));\nexport const Diaries = ({\n  userId\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    authState\n  } = useContext(AuthContext);\n  const [dialogState, dialogDispatch] = useReducer(dialogReducer, dialogInitialState);\n\n  const handleClose = () => dialogDispatch({\n    type: 'close'\n  });\n\n  const [recordState, recordDispatch] = useReducer(recordReducer, recordInitialState);\n  const [sleepDebtState, sleepDebtDispatch] = useReducer(sleepDebtReducer, sleepDebtInitialState); // 日記情報を取得する\n\n  const fetchDiaries = () => {\n    recordDispatch({\n      type: 'fetching'\n    });\n    fetchUserDiaries(userId).then(data => {\n      recordDispatch({\n        type: 'fetchSuccess',\n        payload: {\n          user: data.user,\n          diaries: data.diaries\n        }\n      });\n    });\n  }; // 睡眠負債を取得する\n\n\n  const SleepDebt = () => {\n    sleepDebtDispatch({\n      type: 'fetching'\n    });\n    fetchSleepDebt(userId).then(data => {\n      {\n        // 睡眠負債が返された場合\n        data.sleep_debt && sleepDebtDispatch({\n          type: 'fetchSuccess',\n          payload: {\n            sleepDebt: data.sleep_debt\n          }\n        });\n      }\n      {\n        // 余剰睡眠が返された場合\n        data.sleep_saving && sleepDebtDispatch({\n          type: 'fetchSuccess',\n          payload: {\n            sleepSaving: data.sleep_saving\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetchDiaries();\n    SleepDebt();\n  }, [dialogState.record, dialogState.diary]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          letterSpacing: 10,\n          pb: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\" ~ \", recordState.user.name, \"\\u306E\\u7761\\u7720\\u65E5\\u8A18 ~ \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), recordState.fetchState !== 'ok' ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 42\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          sx: {\n            alignItems: \"center\",\n            justifyContent: 'center',\n            pt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(SleepInfo, {\n            userName: recordState.user.name,\n            sleepDebt: sleepDebtState.sleepDebt,\n            sleepSaving: sleepDebtState.sleepSaving\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              pt: 2\n            },\n            children: [authState.loggedIn && /*#__PURE__*/_jsxDEV(Button, {\n              className: classes.button,\n              onClick: () => dialogDispatch({\n                type: 'record'\n              }),\n              children: \"\\u7761\\u7720\\u65E5\\u8A18\\u3092\\u66F8\\u304F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  letterSpacing: 4,\n                  mt: 3\n                },\n                children: [\"\\u7406\\u60F3\\u7761\\u7720\\u6642\\u9593\\uFF1A\", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [recordState.user.ideal_sleeping_hours, \"\\u6642\\u9593\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 64\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          sm: 12,\n          md: 6,\n          sx: {\n            pr: 10,\n            alignItems: \"right\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            userId: userId,\n            open: dialogState.diary,\n            handleClose: handleClose,\n            handleOpen: () => dialogDispatch({\n              type: 'diary'\n            }),\n            recordState: recordState,\n            recordDispatch: recordDispatch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          py: 6,\n          pl: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(SleepData, {\n          diaries: recordState.diaries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(RecordDialog, {\n      handleClose: handleClose,\n      open: dialogState.record\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Diaries, \"FpwJoB9qq+DOir+GEoPCTvxq+pA=\", false, function () {\n  return [useStyles];\n});\n\n_c = Diaries;\n\nvar _c;\n\n$RefreshReg$(_c, \"Diaries\");","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/containers/Pages/Diaries.jsx"],"names":["React","useContext","useEffect","useReducer","AuthContext","Button","Box","createStyles","makeStyles","Grid","Typography","fetchUserDiaries","fetchSleepDebt","dialogReducer","dialogInitialState","recordReducer","recordInitialState","sleepDebtReducer","sleepDebtInitialState","Calendar","SleepInfo","RecordDialog","SleepData","Loading","useStyles","alignItems","flexDirection","flexWrap","justifyContent","maxWidth","mx","textAlign","width","backgroundColor","border","borderRadius","color","height","padding","Diaries","userId","classes","authState","dialogState","dialogDispatch","handleClose","type","recordState","recordDispatch","sleepDebtState","sleepDebtDispatch","fetchDiaries","then","data","payload","user","diaries","SleepDebt","sleep_debt","sleepDebt","sleep_saving","sleepSaving","record","diary","root","letterSpacing","pb","name","fetchState","pt","loggedIn","button","mt","ideal_sleeping_hours","pr","py","pl"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\nimport { AuthContext } from '../../App';\n// Style\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport Grid from '@mui/material/Grid';\nimport Typography from \"@mui/material/Typography\";\n// Api\nimport { fetchUserDiaries } from \"../../apis/users\";\nimport { fetchSleepDebt } from \"../../apis/diaries\";\n// Reducer\nimport { dialogReducer, dialogInitialState } from '../../reducer/DialogReducer';\nimport { recordReducer, recordInitialState } from '../../reducer/RecordReducer';\nimport { sleepDebtReducer, sleepDebtInitialState } from \"../../reducer/SleepDebtReducer\";\n// Component\nimport { Calendar } from \"../../components/UserInfomation/Calendar\";\nimport { SleepInfo } from \"../../components/UserInfomation/SleepInfo\";\n// Dialog\nimport { RecordDialog } from \"../../components/Dialogs/RecordDialog\";\nimport { SleepData } from \"../../components/UserInfomation/SleepData\";\nimport { Loading } from '../../components/Loading';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    'root': {\n      alignItems: 'center',\n      flexDirection: 'end',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      maxWidth: 1000,\n      mx: 'auto',\n      textAlign: 'center',\n      width: '100%',\n    },\n    'button': {\n      backgroundColor: '#42a5f5',\n      border: 0,\n      borderRadius: 3,\n      color: 'white',\n      height: 30,\n      padding: '20px 30px',\n    }\n  }),\n);\n\nexport const Diaries = ({ userId }) => {\n  const classes = useStyles();\n  const { authState } = useContext(AuthContext);\n  const [dialogState, dialogDispatch] = useReducer(dialogReducer, dialogInitialState);\n  const handleClose = () => dialogDispatch({ type: 'close' });\n  const [recordState, recordDispatch] = useReducer(recordReducer, recordInitialState);\n  const [sleepDebtState, sleepDebtDispatch] = useReducer(sleepDebtReducer, sleepDebtInitialState);\n  // 日記情報を取得する\n  const fetchDiaries = () => {\n    recordDispatch({ type: 'fetching' });\n    fetchUserDiaries(userId)\n      .then(data => {\n        recordDispatch({\n          type: 'fetchSuccess',\n          payload: {\n            user: data.user,\n            diaries: data.diaries,\n          }\n        });\n      });\n  }\n  // 睡眠負債を取得する\n  const SleepDebt = () => {\n    sleepDebtDispatch({ type: 'fetching' });\n    fetchSleepDebt(userId)\n      .then(data => {\n        { // 睡眠負債が返された場合\n          data.sleep_debt &&\n            sleepDebtDispatch({\n              type: 'fetchSuccess',\n              payload: { sleepDebt: data.sleep_debt }\n            })\n        }\n        { // 余剰睡眠が返された場合\n          data.sleep_saving &&\n            sleepDebtDispatch({\n              type: 'fetchSuccess',\n              payload: { sleepSaving: data.sleep_saving }\n            })\n        }\n      })\n  }\n\n  useEffect(() => {\n    fetchDiaries();\n    SleepDebt();\n  }, [dialogState.record, dialogState.diary])\n\n\n  return (\n    <Box className={classes.root}>\n      <Typography variant=\"h3\">\n        <Box sx={{ letterSpacing: 10, pb: 5 }}><b> ~ {recordState.user.name}の睡眠日記 ~ </b></Box>\n      </Typography>\n\n      {recordState.fetchState !== 'ok' ? <Loading /> :\n        <>\n          <Grid container>\n            <Grid item xs={12} sm={6} sx={{\n              alignItems: \"center\",\n              justifyContent: 'center',\n              pt: 1,\n            }}>\n              <SleepInfo\n                userName={recordState.user.name}\n                sleepDebt={sleepDebtState.sleepDebt}\n                sleepSaving={sleepDebtState.sleepSaving}\n              />\n              <Box sx={{ pt: 2 }}>\n                {authState.loggedIn &&\n                  <Button\n\n                    className={classes.button}\n                    onClick={() => dialogDispatch({ type: 'record' })}\n                  >\n                    睡眠日記を書く\n                  </Button>\n                }\n                <Typography variant=\"h6\">\n                  <Box sx={{ letterSpacing: 4, mt: 3 }}>理想睡眠時間：<b>{recordState.user.ideal_sleeping_hours}時間</b></Box>\n                </Typography>\n              </Box>\n            </Grid>\n\n            <Grid item sm={12} md={6}\n              sx={{\n                pr: 10,\n                alignItems: \"right\",\n              }}\n            >\n              <Calendar\n                userId={userId}\n                open={dialogState.diary}\n                handleClose={handleClose}\n                handleOpen={() => dialogDispatch({ type: 'diary' })}\n                recordState={recordState}\n                recordDispatch={recordDispatch}\n              />\n            </Grid>\n          </Grid>\n\n          <Box sx={{ py: 6, pl: 2 }}>\n            <SleepData\n              diaries={recordState.diaries}\n            />\n          </Box>\n        </>\n      }\n\n      <RecordDialog\n        handleClose={handleClose}\n        open={dialogState.record}\n      />\n    </Box>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}