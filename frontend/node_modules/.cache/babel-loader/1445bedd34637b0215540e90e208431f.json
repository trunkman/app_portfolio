{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/app/frontend/src/components/Dialogs/MicropostDialog.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer } from 'react'; // Style\n\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport Typography from \"@mui/material/Typography\"; // Icon\n\nimport AccountCircle from \"@mui/icons-material/AccountCircle\"; // Api\n\nimport { fetchMicropost } from \"../../apis/microposts\"; // Reducer\n\nimport { postReducer, postInitialState } from '../../reducer/PostReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MicropostDialog = ({\n  handleClose,\n  micropostId,\n  open\n}) => {\n  _s();\n\n  const [postState, postDispatch] = useReducer(postReducer, postInitialState); // 投稿詳細(コメント付き)を取得する\n\n  const Micropost = () => {\n    postDispatch({\n      type: 'fetching'\n    });\n    fetchMicropost(micropostId).then(data => {\n      postDispatch({\n        type: 'fetchSuccess',\n        payload: {\n          micropost: data.micropost,\n          user: data.user,\n          comments: data.comments,\n          likeStatus: data.likeStatus\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    Micropost();\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: open && /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: () => handleClose(),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(ListItem, {\n          sx: {\n            alignItems: \"center\",\n            // borderTop: 0.2,\n            display: 'flex',\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(AccountCircle, {\n              sx: {\n                fontSize: 45\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              py: 2,\n              flexGrow: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: [\"\\u3010 \", postState.user.name, \" \\u3055\\u3093 \\u3011 \", postState.micropost.created_at.substr(0, 19).replace('T', ' ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                pl: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  letterSpacing: 2,\n                  mt: 2\n                },\n                children: postState.micropost.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)]\n        }, micropostId.toString(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: postState.comments.length !== 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            pl: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u30B3\\u30E1\\u30F3\\u30C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), postState.comments.map(comment => /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              display: 'flex',\n              alignItems: \"center\",\n              my: 1,\n              borderTop: 0.2\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(AccountCircle, {\n                sx: {\n                  fontSize: 35\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                pt: 2,\n                flexGrow: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"\\u3010 \", comment.user.name, \" \\u3055\\u3093 \\u3011 \", comment.comment.created_at.substr(0, 19).replace('T', ' ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  pl: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    letterSpacing: 2,\n                    my: 2\n                  },\n                  children: comment.comment.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 23\n            }, this)]\n          }, comment.comment.id.toString(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleClose(),\n          children: \"\\u9589\\u3058\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(MicropostDialog, \"K/uISWWhwEyekkpOQFRywrIjJGA=\");\n\n_c = MicropostDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"MicropostDialog\");","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/components/Dialogs/MicropostDialog.jsx"],"names":["React","useEffect","useReducer","Button","Box","Dialog","DialogActions","DialogTitle","DialogContent","ListItem","ListItemAvatar","Typography","AccountCircle","fetchMicropost","postReducer","postInitialState","MicropostDialog","handleClose","micropostId","open","postState","postDispatch","Micropost","type","then","data","payload","micropost","user","comments","likeStatus","alignItems","display","mt","fontSize","py","flexGrow","name","created_at","substr","replace","pl","letterSpacing","content","toString","length","map","comment","my","borderTop","pt","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C,C,CACA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB,C,CACA;;AACA,OAAOC,aAAP,MAA0B,mCAA1B,C,CACA;;AACA,SAASC,cAAT,QAA+B,uBAA/B,C,CACA;;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,2BAA9C;;;AAEA,OAAO,MAAMC,eAAe,GAAG,CAAC;AAC9BC,EAAAA,WAD8B;AAE9BC,EAAAA,WAF8B;AAG9BC,EAAAA;AAH8B,CAAD,KAIzB;AAAA;;AACJ,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BnB,UAAU,CAACY,WAAD,EAAcC,gBAAd,CAA5C,CADI,CAEJ;;AACA,QAAMO,SAAS,GAAG,MAAM;AACtBD,IAAAA,YAAY,CAAC;AAAEE,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAZ;AACAV,IAAAA,cAAc,CAACK,WAAD,CAAd,CACGM,IADH,CACQC,IAAI,IAAI;AACZJ,MAAAA,YAAY,CAAC;AACXE,QAAAA,IAAI,EAAE,cADK;AAEXG,QAAAA,OAAO,EAAE;AACPC,UAAAA,SAAS,EAAEF,IAAI,CAACE,SADT;AAEPC,UAAAA,IAAI,EAAEH,IAAI,CAACG,IAFJ;AAGPC,UAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAHR;AAIPC,UAAAA,UAAU,EAAEL,IAAI,CAACK;AAJV;AAFE,OAAD,CAAZ;AASD,KAXH;AAYD,GAdD;;AAgBA7B,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,SAAS;AACV,GAFQ,EAEN,CAACH,IAAD,CAFM,CAAT;AAIA,sBACE;AAAA,cACGA,IAAI,iBACH,QAAC,MAAD;AACE,MAAA,IAAI,EAAEA,IADR;AAEE,MAAA,OAAO,EAAE,MAAMF,WAAW,EAF5B;AAAA,8BAIE,QAAC,WAAD;AAAA,+BACE,QAAC,QAAD;AAEE,UAAA,EAAE,EAAE;AACFc,YAAAA,UAAU,EAAE,QADV;AAEF;AACAC,YAAAA,OAAO,EAAE,MAHP;AAIFC,YAAAA,EAAE,EAAE;AAJF,WAFN;AAAA,kCAQE,QAAC,cAAD;AAAA,mCACE,QAAC,aAAD;AAAe,cAAA,EAAE,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ;AAAnB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBARF,eAWE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE;AAAEC,cAAAA,EAAE,EAAE,CAAN;AAASC,cAAAA,QAAQ,EAAE;AAAnB,aAAT;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,IAApB;AAAA,oCACKhB,SAAS,CAACQ,IAAV,CAAeS,IADpB,2BACgCjB,SAAS,CAACO,SAAV,CAAoBW,UAApB,CAA+BC,MAA/B,CAAsC,CAAtC,EAAyC,EAAzC,EAA6CC,OAA7C,CAAqD,GAArD,EAA0D,GAA1D,CADhC;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,IAApB;AAAyB,cAAA,EAAE,EAAE;AAAEC,gBAAAA,EAAE,EAAE;AAAN,eAA7B;AAAA,qCACE,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE;AAAEC,kBAAAA,aAAa,EAAE,CAAjB;AAAoBT,kBAAAA,EAAE,EAAE;AAAxB,iBAAT;AAAA,0BAAuCb,SAAS,CAACO,SAAV,CAAoBgB;AAA3D;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA,WACOzB,WAAW,CAAC0B,QAAZ,EADP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eA0BE,QAAC,aAAD;AAAA,kBACGxB,SAAS,CAACS,QAAV,CAAmBgB,MAAnB,KAA8B,CAA9B,iBACC,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE;AAAEJ,YAAAA,EAAE,EAAE;AAAN,WAAT;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAGIrB,SAAS,CAACS,QAAV,CAAmBiB,GAAnB,CAAuBC,OAAO,iBAC5B,QAAC,QAAD;AAEE,YAAA,EAAE,EAAE;AACFf,cAAAA,OAAO,EAAE,MADP;AAEFD,cAAAA,UAAU,EAAE,QAFV;AAGFiB,cAAAA,EAAE,EAAE,CAHF;AAIFC,cAAAA,SAAS,EAAE;AAJT,aAFN;AAAA,oCAQE,QAAC,cAAD;AAAA,qCACE,QAAC,aAAD;AAAe,gBAAA,EAAE,EAAE;AAAEf,kBAAAA,QAAQ,EAAE;AAAZ;AAAnB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBARF,eAWE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE;AAAEgB,gBAAAA,EAAE,EAAE,CAAN;AAASd,gBAAAA,QAAQ,EAAE;AAAnB,eAAT;AAAA,sCACE,QAAC,UAAD;AAAA,sCACKW,OAAO,CAACnB,IAAR,CAAaS,IADlB,2BAC8BU,OAAO,CAACA,OAAR,CAAgBT,UAAhB,CAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,EAArC,EAAyCC,OAAzC,CAAiD,GAAjD,EAAsD,GAAtD,CAD9B;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,IAApB;AAAyB,gBAAA,EAAE,EAAE;AAAEC,kBAAAA,EAAE,EAAE;AAAN,iBAA7B;AAAA,uCACE,QAAC,GAAD;AAAK,kBAAA,EAAE,EAAE;AAAEC,oBAAAA,aAAa,EAAE,CAAjB;AAAoBM,oBAAAA,EAAE,EAAE;AAAxB,mBAAT;AAAA,4BAAuCD,OAAO,CAACA,OAAR,CAAgBJ;AAAvD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXF;AAAA,aACOI,OAAO,CAACA,OAAR,CAAgBI,EAAhB,CAAmBP,QAAnB,EADP;AAAA;AAAA;AAAA;AAAA,kBADF,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,cA1BF,eAyDE,QAAC,aAAD;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,MAAM3B,WAAW,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzDF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ,mBADF;AAqED,CAhGM;;GAAMD,e;;KAAAA,e","sourcesContent":["import React, { useEffect, useReducer } from 'react';\n// Style\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport Typography from \"@mui/material/Typography\";\n// Icon\nimport AccountCircle from \"@mui/icons-material/AccountCircle\";\n// Api\nimport { fetchMicropost } from \"../../apis/microposts\";\n// Reducer\nimport { postReducer, postInitialState } from '../../reducer/PostReducer'\n\nexport const MicropostDialog = ({\n  handleClose,\n  micropostId,\n  open,\n}) => {\n  const [postState, postDispatch] = useReducer(postReducer, postInitialState);\n  // 投稿詳細(コメント付き)を取得する\n  const Micropost = () => {\n    postDispatch({ type: 'fetching' })\n    fetchMicropost(micropostId)\n      .then(data => {\n        postDispatch({\n          type: 'fetchSuccess',\n          payload: {\n            micropost: data.micropost,\n            user: data.user,\n            comments: data.comments,\n            likeStatus: data.likeStatus,\n          }\n        });\n      });\n  }\n\n  useEffect(() => {\n    Micropost();\n  }, [open])\n\n  return (\n    <>\n      {open &&\n        <Dialog\n          open={open}\n          onClose={() => handleClose()}\n        >\n          <DialogTitle>\n            <ListItem\n              key={micropostId.toString()}\n              sx={{\n                alignItems: \"center\",\n                // borderTop: 0.2,\n                display: 'flex',\n                mt: 2,\n              }}>\n              <ListItemAvatar>\n                <AccountCircle sx={{ fontSize: 45 }} />\n              </ListItemAvatar>\n              <Box sx={{ py: 2, flexGrow: 1 }}>\n                <Typography variant=\"h6\">\n                  【 {postState.user.name} さん 】 {postState.micropost.created_at.substr(0, 19).replace('T', ' ')}\n                </Typography>\n                <Typography variant=\"h5\" sx={{ pl: 1 }}>\n                  <Box sx={{ letterSpacing: 2, mt: 2 }}>{postState.micropost.content}</Box>\n                </Typography>\n              </Box>\n            </ListItem >\n          </DialogTitle>\n          <DialogContent>\n            {postState.comments.length !== 0 &&\n              <Box sx={{ pl: 10 }}>\n                <h3>コメント</h3>\n                {\n                  postState.comments.map(comment =>\n                    <ListItem\n                      key={comment.comment.id.toString()}\n                      sx={{\n                        display: 'flex',\n                        alignItems: \"center\",\n                        my: 1,\n                        borderTop: 0.2,\n                      }}>\n                      <ListItemAvatar>\n                        <AccountCircle sx={{ fontSize: 35 }} />\n                      </ListItemAvatar>\n                      <Box sx={{ pt: 2, flexGrow: 1 }} >\n                        <Typography>\n                          【 {comment.user.name} さん 】 {comment.comment.created_at.substr(0, 19).replace('T', ' ')}\n                        </Typography>\n                        <Typography variant=\"h6\" sx={{ pl: 1 }}>\n                          <Box sx={{ letterSpacing: 2, my: 2 }}>{comment.comment.content}</Box>\n                        </Typography>\n                      </Box>\n                    </ListItem>\n                  )\n                }\n              </Box>\n            }\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => handleClose()}>\n              閉じる\n            </Button>\n          </DialogActions>\n        </Dialog>\n      }\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}