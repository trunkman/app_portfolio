{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/app/frontend/src/containers/Layout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState, useReducer } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from '../App'; // Style\n\nimport Box from '@mui/material/Box';\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\"; // Api\n\nimport { checkNotifications } from '../apis/notifications'; // Reducer\n\nimport { notificationReducer, notificationInitialState } from '../reducer/NotificationReducer'; // Container\n\nimport { Book } from './Pages/Book';\nimport { Diaries } from './Pages/Diaries';\nimport { Follow } from './Pages/Follow';\nimport { Header } from './Navigations/Header';\nimport { Home } from './Pages/Home';\nimport { MessageRoom } from './Pages/MessageRoom';\nimport { Mybooks } from './Pages/Mybooks';\nimport { PasswordReset } from './Pages/PasswordReset';\nimport { Profile } from './Pages/Profile';\nimport { Ranking } from './Pages/Ranking';\nimport { Rooms } from './Pages/Rooms';\nimport { Timeline } from './Pages/Timeline';\nimport { Users } from './Pages/Users';\nimport { Sidebar } from './Navigations/Sidebar'; // Component\n\nimport { Loading } from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => createStyles({\n  'root': {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    maxWidth: 1200,\n    marginTop: 120,\n    mx: 'auto',\n    width: '100%'\n  }\n}));\nexport const Layout = () => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    authState\n  } = useContext(AuthContext);\n  const [notificationState, notificationDispatch] = useReducer(notificationReducer, notificationInitialState); // Sidebar開閉する関数群\n\n  const drawerWidth = 240;\n  const [open, setOpen] = useState(true);\n\n  const handleDrawerOpen = () => setOpen(true);\n\n  const handleDrawerClose = () => setOpen(false);\n\n  const Notifications = () => {\n    checkNotifications().then(data => notificationDispatch({\n      type: 'check',\n      payload: {\n        checkAll: data.check_all,\n        checkMessage: data.check_message\n      }\n    }));\n  };\n\n  useEffect(() => {\n    Notifications();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      checkClese: () => notificationDispatch({\n        type: 'checkedAll'\n      }),\n      checkNotifications: notificationState.checkAll,\n      open: open,\n      drawerWidth: drawerWidth,\n      handleDrawerOpen: handleDrawerOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      checkClese: () => notificationDispatch({\n        type: 'checkedMessage'\n      }),\n      checkNotifications: notificationState.checkMessage,\n      open: open,\n      drawerWidth: drawerWidth,\n      handleDrawerClose: handleDrawerClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.root,\n      children: [authState.loginUser === null && /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: authState.loginUser !== null && authState.loggedIn === false ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/account_activations/:id/edit\",\n            children: /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/password_resets/:id/edit\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(PasswordReset, {\n              match: match\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Profile, {\n              loginUser: authState.loginUser,\n              isLoggedIn: authState.loggedIn,\n              userId: match.params.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/timeline\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Timeline, {\n              loginUser: authState.loginUser,\n              userId: match.params.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/talk_rooms\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Rooms, {\n              loginUser: authState.loginUser,\n              userId: match.params.id //不要なら削除\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/following\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Follow, {\n              userId: match.params.id,\n              initialTab: \"following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/followers\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Follow, {\n              userId: match.params.id,\n              initialTab: \"followers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/books\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Mybooks, {\n              userId: match.params.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users/:id/diaries\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Diaries, {\n              userId: match.params.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/ranking\",\n            children: /*#__PURE__*/_jsxDEV(Ranking, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/talk_rooms/:id\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(MessageRoom, {\n              roomId: match.params.id,\n              loginUser: authState.loginUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/books/:isbn\",\n            render: ({\n              match\n            }) => /*#__PURE__*/_jsxDEV(Book, {\n              bookIsbn: match.params.isbn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users\",\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              isLoggedIn: authState.loggedIn,\n              loginUser: authState.loginUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Layout, \"rC2lr9XyQC+i99Uex9kvuIECl+g=\", false, function () {\n  return [useStyles];\n});\n\n_c = Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"sources":["/home/ubuntu/app/frontend/src/containers/Layout.jsx"],"names":["React","useContext","useEffect","useState","useReducer","BrowserRouter","Switch","Route","Redirect","AuthContext","Box","createStyles","makeStyles","checkNotifications","notificationReducer","notificationInitialState","Book","Diaries","Follow","Header","Home","MessageRoom","Mybooks","PasswordReset","Profile","Ranking","Rooms","Timeline","Users","Sidebar","Loading","useStyles","alignItems","display","justifyContent","maxWidth","marginTop","mx","width","Layout","classes","authState","notificationState","notificationDispatch","drawerWidth","open","setOpen","handleDrawerOpen","handleDrawerClose","Notifications","then","data","type","payload","checkAll","check_all","checkMessage","check_message","root","loginUser","loggedIn","match","params","id","isbn"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,EAAiDC,UAAjD,QAAmE,OAAnE;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,EAAuCC,QAAvC,QAAuD,kBAAvD;AACA,SAASC,WAAT,QAA4B,QAA5B,C,CACA;;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,0BAAzC,C,CACA;;AACA,SAASC,kBAAT,QAAmC,uBAAnC,C,CACA;;AACA,SAASC,mBAAT,EAA8BC,wBAA9B,QAA8D,gCAA9D,C,CACA;;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,OAAT,QAAwB,uBAAxB,C,CACA;;AACA,SAASC,OAAT,QAAwB,uBAAxB;;;AAEA,MAAMC,SAAS,GAAGnB,UAAU,CAAC,MAC3BD,YAAY,CAAC;AACX,UAAQ;AACNqB,IAAAA,UAAU,EAAE,QADN;AAENC,IAAAA,OAAO,EAAE,MAFH;AAGNC,IAAAA,cAAc,EAAE,QAHV;AAINC,IAAAA,QAAQ,EAAE,IAJJ;AAKNC,IAAAA,SAAS,EAAE,GALL;AAMNC,IAAAA,EAAE,EAAE,MANE;AAONC,IAAAA,KAAK,EAAE;AAPD;AADG,CAAD,CADc,CAA5B;AAcA,OAAO,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAC1B,QAAMC,OAAO,GAAGT,SAAS,EAAzB;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAgBxC,UAAU,CAACQ,WAAD,CAAhC;AACA,QAAM,CAACiC,iBAAD,EAAoBC,oBAApB,IAA4CvC,UAAU,CAACU,mBAAD,EAAsBC,wBAAtB,CAA5D,CAH0B,CAI1B;;AACA,QAAM6B,WAAW,GAAG,GAApB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB3C,QAAQ,CAAC,IAAD,CAAhC;;AACA,QAAM4C,gBAAgB,GAAG,MAAMD,OAAO,CAAC,IAAD,CAAtC;;AACA,QAAME,iBAAiB,GAAG,MAAMF,OAAO,CAAC,KAAD,CAAvC;;AAEA,QAAMG,aAAa,GAAG,MAAM;AAC1BpC,IAAAA,kBAAkB,GACfqC,IADH,CACQC,IAAI,IACRR,oBAAoB,CAAC;AACnBS,MAAAA,IAAI,EAAE,OADa;AAEnBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,QAAQ,EAAEH,IAAI,CAACI,SADR;AAEPC,QAAAA,YAAY,EAAEL,IAAI,CAACM;AAFZ;AAFU,KAAD,CAFxB;AAUD,GAXD;;AAaAvD,EAAAA,SAAS,CAAC,MAAM;AACd+C,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE,QAAC,aAAD;AAAA,4BACE,QAAC,MAAD;AACE,MAAA,UAAU,EAAE,MAAMN,oBAAoB,CAAC;AAAES,QAAAA,IAAI,EAAE;AAAR,OAAD,CADxC;AAEE,MAAA,kBAAkB,EAAEV,iBAAiB,CAACY,QAFxC;AAGE,MAAA,IAAI,EAAET,IAHR;AAIE,MAAA,WAAW,EAAED,WAJf;AAKE,MAAA,gBAAgB,EAAEG;AALpB;AAAA;AAAA;AAAA;AAAA,YADF,eAQE,QAAC,OAAD;AACE,MAAA,UAAU,EAAE,MAAMJ,oBAAoB,CAAC;AAAES,QAAAA,IAAI,EAAE;AAAR,OAAD,CADxC;AAEE,MAAA,kBAAkB,EAAEV,iBAAiB,CAACc,YAFxC;AAGE,MAAA,IAAI,EAAEX,IAHR;AAIE,MAAA,WAAW,EAAED,WAJf;AAKE,MAAA,iBAAiB,EAAEI;AALrB;AAAA;AAAA;AAAA;AAAA,YARF,eAgBE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAER,OAAO,CAACkB,IAAxB;AAAA,iBACGjB,SAAS,CAACkB,SAAV,KAAwB,IAAxB,iBACC,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAA,+BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAME,QAAC,MAAD;AAAA,kBACGlB,SAAS,CAACkB,SAAV,KAAwB,IAAxB,IAAgClB,SAAS,CAACmB,QAAV,KAAuB,KAAvD,gBAEC;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,GAAZ;AAAA,mCACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,+BAAlB;AAAA,mCACE,QAAC,QAAD;AAAU,cAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF,eAOE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,2BAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEC,cAAAA;AAAF,aAAD,kBAAe,QAAC,aAAD;AACrB,cAAA,KAAK,EAAEA;AADc;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBAPF;AAAA,wBAFD,gBAgBC;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,GAAlB;AAAA,mCACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,YAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEA,cAAAA;AAAF,aAAD,kBACN,QAAC,OAAD;AACE,cAAA,SAAS,EAAEpB,SAAS,CAACkB,SADvB;AAEE,cAAA,UAAU,EAAElB,SAAS,CAACmB,QAFxB;AAGE,cAAA,MAAM,EAAEC,KAAK,CAACC,MAAN,CAAaC;AAHvB;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,kBAJF,eAcE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,qBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,QAAD;AACrB,cAAA,SAAS,EAAEpB,SAAS,CAACkB,SADA;AAErB,cAAA,MAAM,EAAEE,KAAK,CAACC,MAAN,CAAaC;AAFA;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBAdF,eAqBE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,uBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,KAAD;AACrB,cAAA,SAAS,EAAEpB,SAAS,CAACkB,SADA;AAErB,cAAA,MAAM,EAAEE,KAAK,CAACC,MAAN,CAAaC,EAFA,CAEI;;AAFJ;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBArBF,eA4BE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,sBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,MAAD;AACrB,cAAA,MAAM,EAAEA,KAAK,CAACC,MAAN,CAAaC,EADA;AAErB,cAAA,UAAU,EAAC;AAFU;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBA5BF,eAmCE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,sBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,MAAD;AACrB,cAAA,MAAM,EAAEA,KAAK,CAACC,MAAN,CAAaC,EADA;AAErB,cAAA,UAAU,EAAC;AAFU;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBAnCF,eA0CE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,kBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,OAAD;AACrB,cAAA,MAAM,EAAEA,KAAK,CAACC,MAAN,CAAaC;AADA;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBA1CF,eAgDE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,oBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,OAAD;AACrB,cAAA,MAAM,EAAEA,KAAK,CAACC,MAAN,CAAaC;AADA;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBAhDF,eAsDE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,UAAlB;AAAA,mCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAtDF,eA0DE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,iBAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEF,cAAAA;AAAF,aAAD,kBAAe,QAAC,WAAD;AACrB,cAAA,MAAM,EAAEA,KAAK,CAACC,MAAN,CAAaC,EADA;AAErB,cAAA,SAAS,EAAEtB,SAAS,CAACkB;AAFA;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBA1DF,eAiEE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,cAAlB;AACE,YAAA,MAAM,EAAE,CAAC;AAAEE,cAAAA;AAAF,aAAD,kBAAe,QAAC,IAAD;AACrB,cAAA,QAAQ,EAAEA,KAAK,CAACC,MAAN,CAAaE;AADF;AAAA;AAAA;AAAA;AAAA;AADzB;AAAA;AAAA;AAAA;AAAA,kBAjEF,eAuEE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,QAAlB;AAAA,mCACE,QAAC,KAAD;AACE,cAAA,UAAU,EAAEvB,SAAS,CAACmB,QADxB;AAEE,cAAA,SAAS,EAAEnB,SAAS,CAACkB;AAFvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAvEF;AAAA;AAjBJ;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA,YAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2HD,CAtJM;;GAAMpB,M;UACKR,S;;;KADLQ,M","sourcesContent":["import React, { useContext, useEffect, useState, useReducer } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\nimport { AuthContext } from '../App';\n// Style\nimport Box from '@mui/material/Box';\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\n// Api\nimport { checkNotifications } from '../apis/notifications';\n// Reducer\nimport { notificationReducer, notificationInitialState } from '../reducer/NotificationReducer'\n// Container\nimport { Book } from './Pages/Book';\nimport { Diaries } from './Pages/Diaries';\nimport { Follow } from './Pages/Follow';\nimport { Header } from './Navigations/Header';\nimport { Home } from './Pages/Home'\nimport { MessageRoom } from './Pages/MessageRoom';\nimport { Mybooks } from './Pages/Mybooks';\nimport { PasswordReset } from './Pages/PasswordReset';\nimport { Profile } from './Pages/Profile'\nimport { Ranking } from './Pages/Ranking';\nimport { Rooms } from './Pages/Rooms';\nimport { Timeline } from './Pages/Timeline';\nimport { Users } from './Pages/Users'\nimport { Sidebar } from './Navigations/Sidebar';\n// Component\nimport { Loading } from '../components/Loading';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    'root': {\n      alignItems: 'center',\n      display: 'flex',\n      justifyContent: 'center',\n      maxWidth: 1200,\n      marginTop: 120,\n      mx: 'auto',\n      width: '100%',\n    }\n  }),\n);\n\nexport const Layout = () => {\n  const classes = useStyles();\n  const { authState } = useContext(AuthContext);\n  const [notificationState, notificationDispatch] = useReducer(notificationReducer, notificationInitialState);\n  // Sidebar開閉する関数群\n  const drawerWidth = 240;\n  const [open, setOpen] = useState(true);\n  const handleDrawerOpen = () => setOpen(true);\n  const handleDrawerClose = () => setOpen(false);\n\n  const Notifications = () => {\n    checkNotifications()\n      .then(data =>\n        notificationDispatch({\n          type: 'check',\n          payload: {\n            checkAll: data.check_all,\n            checkMessage: data.check_message,\n          }\n        })\n      );\n  }\n\n  useEffect(() => {\n    Notifications();\n  }, [])\n\n  return (\n    <BrowserRouter>\n      <Header\n        checkClese={() => notificationDispatch({ type: 'checkedAll' })}\n        checkNotifications={notificationState.checkAll}\n        open={open}\n        drawerWidth={drawerWidth}\n        handleDrawerOpen={handleDrawerOpen}\n      />\n      <Sidebar\n        checkClese={() => notificationDispatch({ type: 'checkedMessage' })}\n        checkNotifications={notificationState.checkMessage}\n        open={open}\n        drawerWidth={drawerWidth}\n        handleDrawerClose={handleDrawerClose}\n      />\n\n      <Box className={classes.root}>\n        {authState.loginUser === null &&\n          <Route path=\"/\">\n            <Loading />\n          </Route>\n        }\n        <Switch>\n          {authState.loginUser !== null && authState.loggedIn === false\n            ?\n            <>\n              <Route path=\"/\">\n                <Home />\n              </Route>\n              <Route exact path=\"/account_activations/:id/edit\">\n                <Redirect to=\"/\" />\n              </Route>\n              <Route exact path=\"/password_resets/:id/edit\"\n                render={({ match }) => <PasswordReset\n                  match={match}\n                />}\n              />\n            </>\n            :\n            <>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route exact path=\"/users/:id\"\n                render={({ match }) =>\n                  <Profile\n                    loginUser={authState.loginUser}\n                    isLoggedIn={authState.loggedIn}\n                    userId={match.params.id}\n                  />\n                }\n              />\n\n              <Route exact path=\"/users/:id/timeline\"\n                render={({ match }) => <Timeline\n                  loginUser={authState.loginUser}\n                  userId={match.params.id}\n                />}\n              />\n\n              <Route exact path=\"/users/:id/talk_rooms\"\n                render={({ match }) => <Rooms\n                  loginUser={authState.loginUser}\n                  userId={match.params.id} //不要なら削除\n                />}\n              />\n\n              <Route exact path=\"/users/:id/following\"\n                render={({ match }) => <Follow\n                  userId={match.params.id}\n                  initialTab='following'\n                />}\n              />\n\n              <Route exact path=\"/users/:id/followers\"\n                render={({ match }) => <Follow\n                  userId={match.params.id}\n                  initialTab='followers'\n                />}\n              />\n\n              <Route exact path=\"/users/:id/books\"\n                render={({ match }) => <Mybooks\n                  userId={match.params.id}\n                />}\n              />\n\n              <Route exact path=\"/users/:id/diaries\"\n                render={({ match }) => <Diaries\n                  userId={match.params.id}\n                />}\n              />\n\n              <Route exact path=\"/ranking\">\n                <Ranking />\n              </Route>\n\n              <Route exact path=\"/talk_rooms/:id\"\n                render={({ match }) => <MessageRoom\n                  roomId={match.params.id}\n                  loginUser={authState.loginUser}\n                />}\n              />\n\n              <Route exact path=\"/books/:isbn\"\n                render={({ match }) => <Book\n                  bookIsbn={match.params.isbn}\n                />}\n              />\n\n              <Route exact path=\"/users\">\n                <Users\n                  isLoggedIn={authState.loggedIn}\n                  loginUser={authState.loginUser}\n                />\n              </Route>\n            </>\n          }\n        </Switch>\n      </Box>\n    </BrowserRouter >\n  );\n}\n"]},"metadata":{},"sourceType":"module"}